<link rel="stylesheet" href="{{ asset('css/new-job.css') }}">
<div class="w-100">
    <div class="section-info w-100 mb-4">
        <h4>Moj CV</h4>
    </div>
    @if ($cv)
        <div class="cv-card w-100 d-flex flex-column align-items-between">
            <div class="cv-header w-100 d-flex justify-content-end align-items-center">
                <div class="cv-header-delete" onclick="deleteCV()"></div>
            </div>
            <div class="cv-body w-100 d-flex justify-content-center my-3">
                <svg viewBox="0 0 34 43" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_27_41)">
                        <path
                            d="M33.7941 11.5523C33.7889 11.516 33.7889 11.4792 33.7941 11.443C33.4811 10.7809 33.0607 10.1742 32.5495 9.64705L24.2312 1.46398C23.6456 0.884079 22.9504 0.42424 22.1854 0.110734C21.4204 -0.202772 20.6006 -0.363802 19.7728 -0.363157H4.39655C3.14306 -0.363157 1.94091 0.130436 1.05456 1.00904C0.168205 1.88764 -0.329742 3.07928 -0.329742 4.32181V38.6782C-0.329742 39.9208 0.168205 41.1124 1.05456 41.991C1.94091 42.8696 3.14306 43.3632 4.39655 43.3632H29.6034C30.8569 43.3632 32.0591 42.8696 32.9454 41.991C33.8318 41.1124 34.3297 39.9208 34.3297 38.6782V14.0665C34.3289 13.2007 34.1465 12.3445 33.7941 11.5523ZM23.3017 4.96209L28.9575 10.5684H24.8772C24.4593 10.5684 24.0586 10.4039 23.7632 10.111C23.4677 9.81817 23.3017 9.42095 23.3017 9.00678V4.96209ZM31.1789 38.6782C31.1789 39.0924 31.0129 39.4896 30.7174 39.7825C30.422 40.0754 30.0213 40.2399 29.6034 40.2399H4.39655C3.97872 40.2399 3.578 40.0754 3.28255 39.7825C2.9871 39.4896 2.82112 39.0924 2.82112 38.6782V4.32181C2.82112 3.90763 2.9871 3.51042 3.28255 3.21755C3.578 2.92469 3.97872 2.76015 4.39655 2.76015H19.7728H20.1509V9.00678C20.1509 10.2493 20.6488 11.4409 21.5352 12.3195C22.4215 13.1981 23.6237 13.6917 24.8772 13.6917H31.1789C31.1867 13.8166 31.1867 13.9417 31.1789 14.0665V38.6782Z"
                            fill="#EBF1F8" />
                        <path
                            d="M26.4526 16.8151H21.7263C21.3084 16.8151 20.9077 16.9796 20.6123 17.2725C20.3168 17.5653 20.1508 17.9625 20.1508 18.3767C20.1508 18.7909 20.3168 19.1881 20.6123 19.481C20.9077 19.7738 21.3084 19.9384 21.7263 19.9384H26.4526C26.8704 19.9384 27.2711 19.7738 27.5666 19.481C27.862 19.1881 28.028 18.7909 28.028 18.3767C28.028 17.9625 27.862 17.5653 27.5666 17.2725C27.2711 16.9796 26.8704 16.8151 26.4526 16.8151Z"
                            fill="#EBF1F8" />
                        <path
                            d="M26.4526 24.6233H7.54742C7.12959 24.6233 6.72887 24.7878 6.43342 25.0807C6.13797 25.3736 5.97198 25.7708 5.97198 26.1849C5.97198 26.5991 6.13797 26.9963 6.43342 27.2892C6.72887 27.5821 7.12959 27.7466 7.54742 27.7466H26.4526C26.8704 27.7466 27.2711 27.5821 27.5666 27.2892C27.862 26.9963 28.028 26.5991 28.028 26.1849C28.028 25.7708 27.862 25.3736 27.5666 25.0807C27.2711 24.7878 26.8704 24.6233 26.4526 24.6233Z"
                            fill="#EBF1F8" />
                        <path
                            d="M26.4526 30.8699H7.54742C7.12959 30.8699 6.72887 31.0345 6.43342 31.3273C6.13797 31.6202 5.97198 32.0174 5.97198 32.4316C5.97198 32.8458 6.13797 33.243 6.43342 33.5358C6.72887 33.8287 7.12959 33.9932 7.54742 33.9932H26.4526C26.8704 33.9932 27.2711 33.8287 27.5666 33.5358C27.862 33.243 28.028 32.8458 28.028 32.4316C28.028 32.0174 27.862 31.6202 27.5666 31.3273C27.2711 31.0345 26.8704 30.8699 26.4526 30.8699Z"
                            fill="#EBF1F8" />
                        <path
                            d="M7.54742 21.5C7.96525 21.5 8.36596 21.3355 8.66141 21.0426C8.95686 20.7498 9.12285 20.3525 9.12285 19.9384C9.48014 19.4951 9.94682 19.1509 10.4777 18.9389C10.9637 18.8321 11.4172 18.6127 11.8011 18.2986C11.9635 18.314 12.127 18.314 12.2895 18.2986C12.4571 18.3141 12.6259 18.3141 12.7936 18.2986C13.1821 18.6149 13.6412 18.8344 14.1327 18.9389C14.6389 19.1559 15.0868 19.4875 15.4403 19.9071C15.4752 20.2929 15.6535 20.652 15.9406 20.9148C16.2276 21.1776 16.6029 21.3253 16.9936 21.3291C17.3843 21.333 17.7626 21.1929 18.0549 20.9359C18.3472 20.6789 18.5327 20.3233 18.5754 19.9384C18.5754 18.0019 16.5274 16.737 15.5349 16.2841C16.0565 15.2385 16.2902 14.0748 16.2123 12.9109C16.1733 11.8878 15.7458 10.9171 15.0155 10.1931C14.2851 9.46916 13.3058 9.04542 12.2737 9.00677C11.2416 9.04542 10.2623 9.46916 9.53194 10.1931C8.80159 10.9171 8.37412 11.8878 8.33513 12.9109C8.25726 14.0748 8.49096 15.2385 9.01257 16.2841C8.02005 16.8151 5.97198 18.0019 5.97198 19.9384C5.97198 20.3525 6.13797 20.7498 6.43342 21.0426C6.72887 21.3355 7.12959 21.5 7.54742 21.5ZM12.2737 12.1301C12.4679 12.1691 12.6461 12.264 12.7862 12.4029C12.9263 12.5417 13.022 12.7184 13.0614 12.9109C13.0614 14.0822 13.0614 14.6287 12.3367 15.3159H12.2737C11.5805 14.6287 11.549 14.0822 11.549 12.9109C11.5837 12.7265 11.67 12.5554 11.7982 12.4173C11.9264 12.2792 12.0912 12.1797 12.2737 12.1301Z"
                            fill="#EBF1F8" />
                    </g>
                    <defs>
                        <clipPath id="clip0_27_41">
                            <rect fill="#EBF1F8" />
                        </clipPath>
                    </defs>
                </svg>
            </div>
            <div class="cv-footer w-100">
                <div class="cv-footer-actions w-100 d-flex justify-content-center mt-2">
                    <div class="cv-footer-action mx-1"
                        onclick="previewCV('{{ $user->id }}', '{{ $user->userInfo->cv }}')">
                        <svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 9.00462C14.2091 9.00462 16 10.7955 16 13.0046C16 15.2138 14.2091 17.0046 12 17.0046C9.79086 17.0046 8 15.2138 8 13.0046C8 10.7955 9.79086 9.00462 12 9.00462ZM12 10.5046C10.6193 10.5046 9.5 11.6239 9.5 13.0046C9.5 14.3853 10.6193 15.5046 12 15.5046C13.3807 15.5046 14.5 14.3853 14.5 13.0046C14.5 11.6239 13.3807 10.5046 12 10.5046ZM12 5.5C16.6135 5.5 20.5961 8.65001 21.7011 13.0644C21.8017 13.4662 21.5575 13.8735 21.1557 13.9741C20.7539 14.0746 20.3466 13.8305 20.246 13.4286C19.3071 9.67796 15.9214 7 12 7C8.07693 7 4.69009 9.68026 3.75285 13.4332C3.65249 13.835 3.24535 14.0794 2.84348 13.9791C2.44161 13.8787 2.19719 13.4716 2.29755 13.0697C3.40064 8.65272 7.38448 5.5 12 5.5Z"
                                fill="#EBF1F8" />
                        </svg>
                    </div>
                    <div class="cv-footer-action mx-1"
                        onclick="downloadCV('{{ $user->id }}', '{{ $user->userInfo->cv }}')">
                        <svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M480 352h-133.5l-45.25 45.25C289.2 409.3 273.1 416 256 416s-33.16-6.656-45.25-18.75L165.5 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h448c17.67 0 32-14.33 32-32v-96C512 366.3 497.7 352 480 352zM432 456c-13.2 0-24-10.8-24-24c0-13.2 10.8-24 24-24s24 10.8 24 24C456 445.2 445.2 456 432 456zM233.4 374.6C239.6 380.9 247.8 384 256 384s16.38-3.125 22.62-9.375l128-128c12.49-12.5 12.49-32.75 0-45.25c-12.5-12.5-32.76-12.5-45.25 0L288 274.8V32c0-17.67-14.33-32-32-32C238.3 0 224 14.33 224 32v242.8L150.6 201.4c-12.49-12.5-32.75-12.5-45.25 0c-12.49 12.5-12.49 32.75 0 45.25L233.4 374.6z"
                                fill="#EBF1F8" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="cv-preview-background w-100 h-100 fixed-top align-items-center justify-content-center">
            <div id="pdfContainer" class="cv-preview-main position-relative">

            </div>
        </div>
    @else
        <input type="file" class="form-control-file" name="cv" id="cv" accept="application/pdf" hidden>
        <div class="w-100 d-flex justify-content-center">
            <div class="no-found-cont w-100 d-flex flex-column align-items-center justify-content-center">
                <img src="{{ asset('images/cv-not-found.svg') }}" alt="Not Found">
                <p class="mt-3">Nije pronađen nijedan cv. Možete ga <span>kreirati</span> ili <span
                        onclick="triggerCVInput()">dodati</span> već
                    postojeći cv.</p>
            </div>
        </div>
    @endif
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>

<script src="{{ asset('js/user/upload-cv.js') }}"></script>
<script src="{{ asset('js/user/cv-actions.js') }}"></script>
